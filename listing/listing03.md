Что выведет программа? Объяснить вывод программы. Объяснить внутреннее устройство интерфейсов и их отличие от пустых интерфейсов.

```go
package main

import (
	"fmt"
	"os"
)

func Foo() error {
	var err *os.PathError = nil
	return err
}

func main() {
	err := Foo()
	fmt.Println(err)
	fmt.Println(err == nil)
}
```
Несмотря на то, что функция Foo() возвращает интерфейс error, он ссылается на тип данных *os.PathError. В main() переменная err будет также содержать информацию о типе данных. Значит err не равен nil, а data будет указывать на значение nil.

Ответ:
```
<nil>
false
```

## Внутреннее устройство интерфейсов
### iface
В исходном коде Go (src/runtime/runtime2.go) интерфейсный тип (коренной тип) выглядит следующим образом:
```go
type iface struct {
    tab  *itab
    data unsafe.Pointer
}
```

* **tab** — указатель на структуру типа itab, которая хранит данные как об интерфейса, так и о типе данных;
* **data** — указатель на значение, которое хранит интерфейс.

### itab
Структура типа itab выглядит следующим образом:
```go
type itab struct {
    inter *interfacetype
    _type *_type
    hash  uint32
    _     [4]byte
    fun   [1]uintptr
}
```
* **_type** содержит информацию о типе данных, на который указывает **data**;
* **inter** содержит метаинформацию интерфейса (тип интерфейса и информация об его методах);
* **fun** представляет собой массив указателей на конкретные функции, реализующие методы интерфейса для конкретного типа. Размер данного массива не имеет значения, так как компилятор отвечает за выделение памяти для этого массива и делает это независимо от указанного размера.

## Пустой интерфейс
### eface
В исходном коде корневым типом, представляющим пустой интерфейс, является структура **eface**:
```go
type eface struct {
	_type *_type
	data  unsafe.Pointer
}
```
* **_type** содержит информацию о типе данных, на который указывает **data**;
* **data** — указатель на значение, которое хранит интерфейс.

### Отличие от iface
Как можно заметить, в структуре eface хранится намного меньше данных об интерфейсе, методах и типе данных. Использование данного корневого типа позволяет экономить память и избавляет от лишних полей в связи с их ненужностью.